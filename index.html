<!DOCTYPE html>
<html lang="en">
	<head>
 		<meta charset="utf-8">
		<title>Harry Potter Project Â· Social Graphs 2017</title>
		<link rel="stylesheet" href="style.css">

		<!-- jquery -->
		<script
			src="https://code.jquery.com/jquery-3.2.1.min.js"
			integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
			crossorigin="anonymous"></script>

		<!-- fixto -->
		<script src="js/fixto.min.js"></script>
		
		<!-- fancybox -->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" />
		<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script>

		<!-- <script src="node_modules/jquery-smooth-scroll/jquery.smooth-scroll.min.js"></script> -->
		<script src="js/main.js"></script>
	</head>
	<body>
		<div class="top-bar">
			<div class="overlay"></div>
			<header>
				<h1>Harry Potter Project</h1>
				<h2>Social Graphs</h2>
			</header>
		</div>
		<div class="wrapper">
				<div class="content">
					<div id="sidebar">
						<nav id="sidebar-nav">
							<ul>
								<li class="nav-item"><i class="fa fa-bolt"></i><a href="#introduction">Introduction</a></li>
								<li class="nav-item"><i class="fa fa-bolt"></i><a href="#network">Network analysis</a></li>
								<li class="nav-item"><i class="fa fa-bolt"></i><a href="#text">Text analysis</a></li>
								<li class="nav-item"><i class="fa fa-bolt"></i><a href="#sentiment">Sentiment analysis</a></li>
								<!-- <li><i class="fa-li fa fa-bolt"></i></li> -->
							</ul>
						</nav>
					</div><!--/sidebar-->
					<div id="main">

						<section id="introduction">
							
							<h1>Introduction</h1>

							<p>This website was created in order to present the work done during the Final Project of the course <em>02805 Social Graphs and Interactions</em> at the Technical University of Denmark. 
							The Final Project of the course consists of a building network from a data set chosen by the authors of this website. We choose to analyze the Harry Potter universe and all everything about it. The network was created from the text on the Harry Potter Fandom Wikipedia site <a href="http://harrypotter.wikia.com/wiki/Main_Page">here</a>. The Fandom Wikipedia provides a fully structured copy of all their current pages structured into an XML file. The XML file can be downloaded from <a href="http://s3.amazonaws.com/wikia_xml_dumps/h/ha/harrypotter_pages_current.xml.7z">here</a>.</p>
							
							<p>The network is constructed by finding a limited amount of characters and placing these as "nodes" in the network. Then by extracting the text from each characters Wikipedia website and from this identifying how many other nodes this character links to from its own page. If a link to another character is found then a "edge" (connection) between the two characters is created.</p>

							<p>By continously analyzing each character webpage a network is constructed and basic yet exciting question can be answered; who is the most connected character? Can we find communities between the characters? Which unique words identify each character?</p>

							<p>In the project we also conduct extensive text mining and sentiment analysis of the seven books and eight movie scripts. The structure of the website is setup such that reading from the top to bottom provides a walkthrough of the different analyses performed on the network but the website contains no technical explanation of the procedures, this can be found in the <a href="insertIPythonNotebookHere">IPython Notebook</a></p>

						</section>
						<section id="network">
							
							<h1>Network Analysis</h1>

							<p>The downloaded network can be visualized in different ways like seen below. First a visualization where node size and color is based on the degree. The larger the degree of a node the darker the color and the larger the size.</p>
							<figure>
								<img src="img/basic_network.png">
								<figcaption>Basic network where node color and size is based on degree. Larger node size indicate a higher degree.</figcaption>
							</figure>
							<p> In the project we use six different categories to characterize each character. The categories comprise the following; the four housings, muggles and other wizards, where the latter is a rather large group of characters. Formally this feature is called a the node attribute and by having this type of categorization of the nodes in the network it is possible to conduct community analysis which will be shown later. For now, let's just visualize the network structure as above but using a color scheme based on the categories of each node.</p>
							<figure>
								<img src="img/categorized_network.png">
								<figcaption>The network colored by category/node attribute with size based on degree.</figcaption>
							</figure>
							<p> Continuing inline with the thought process of doing community analysis; it is possible to extract the largest fully connected subcomponent of the network and then plotting this in a community structure as seen below. Here with split the categories evenly on a circle and as is seen the group of 'Other wizards' are quite large as mentioned. The largest fully connected component of the network is termed the giant connected component (gcc) in network theory and by having extracted this the foundation of community analysis have been made. The community analysis will hence be performed on this subgraph in later sections. </p>
							<figure>
								<img src="img/grouped_network.png">
								<figcaption>The giant component of the network (largest fully connected subset of the network) grouped by category</figcaption>
							</figure>
							
							<h2>Basic Statistics</h2>

							<p>Now, investigating the basic statistics of the network to get and idea of the structure. The network consists of 1078 nodes, i.e. characters and include 5211 edges, i.e. connections. As seen from the pictures above we categorize each character into different categories which are; Gyffindors, Ravenclaws, Slytherins, Hufflepuffs, Muggles and Other Wizards,
							where the latter is a fairly large group of characters. These "communities" are what we will refer to as node attributes and further analysis of these communities will be carried out later.
							A fast an easy to calculate statistic is the degree distribution, which is basically found by counting the number of connections each node in the network has and then binning the degrees such that a distribution can be visualized.</p>

							<p>Although first, let us just check the top nodes with respect to degree in the network as seen below.</p>

							<figure><img src="img/degree_table.png" alt="Top 10 nodes sorted by degree"></figure>
							
							<p>Furthermore, in network analysis formally a connection can be categorized into either an in- or out-connection which is refered to as the in- and out-degree of a node. This exists as the graphs created are a type of graph refeered to as a directed graph meaning that the links between characters are directed, i.e. one character might link to another but the other character might not link to the first.</p>

							<p>Hence, by splitting the counts of degrees into in- and out-degrees the following two tables can be made: </p>

							<figure>
								<img src="img/in_degree_table.PNG">
								<figcaption>Top 10 nodes sorted by in-degree</figcaption>
							</figure>
							<figure>
								<img src="img/out_degree_table.PNG">
								<figcaption>Top 10 nodes sorted by out-degree</figcaption>
							</figure>
							
							<h2>Degree Distribution</h2>

							<p>From the above analysis of the node degrees, it is possible to visualize the complete degree distribution instead of just showing the top 10 nodes by binning the number of degrees and plotting this.
							Hence, below is the in- and out-degree distribution of the network where both linear axes and log-log axes are used to show the distribution. What is interesting about using the log-log axis is that the distributions approximately form a straight line with some slope meaning that the degree distributions follow a power law.</p>
							<p>This trait is very characteristic for social networks which have been investigated by researchers before and is a consequence of the fact that some nodes tend to have a very large degree and acting as hubs in the network and in this way creating the power law distribution.</p>

							<figure>
								<img src="img/in_out_degree.png">
								<figcaption>In- and out-degree of the the network plotted on linear and log-log axes</figcaption>
							</figure>
							
							<h2>Centrality</h2>
							<p> Centrality of nodes is a measure of how central a node is in a network. Different measures of centrality exists but here we just present two different measures; betweenness and eigenvector centrality. In layman terms the betweenness centrality is a measure of the fraction of how many of the shortest paths through the network that passes through that specific node. The shortest path between two nodes are simply defined as the path that would take you from node a to b in the shortest amount of steps. Hence a high betweenness centrality of a node usually means that the node is well connected as will be seen when computing the centrality measures. Eigenvector centrality is based on a different idea as a high node degree does not necessarily mean that the node has a high eigenvector centrality. The scoring of eigenvector centrality is basically controlled having node neighbors that also have a high eigenvector centrality and hence if one node has many links to important nodes in the network, then that node has a high eigenvector centrality.</p> 
							
							<p> Now, computing the two centrality measures as seen in the below tables, it is seen that there is quite some correspondance between the two tables although the relative scoring between the two is different. It is quite clear that Harry Potter is the most important character in the network, which was expected as both the degree is high and intuitively one would know that he connects and interacts with a lot of different people in the network. From the betweenness centrality it is seen that some of the nodes with a high score here is not present in the top 10 eigenvector centrality table indicating that these were not connected to important characters in the network but were merely good links for shortest paths in the network. Generally it seems that the main characters of the books and movies have a high eigenvector centrality but this is not necessarily true for the betweenness centrality.</p>
							<figure>
								<img src="img/betweenness_table.PNG">
								<figcaption>Top 10 nodes sorted by betweenness centrality</figcaption>
							</figure>
							<figure>
								<img src="img/eigenvector_centrality.PNG">
								<figcaption>Top 10 nodes sorted by eigenvector centrality</figcaption>
							</figure>
							
							<h2>Community Analysis</h2>
							
							
						</section>
						<section id="text">
							
							<h1>Text analysis</h1>

							<p>Blablablabla</p>

							<h2>Subsection title</h2>

							<p>Blablabla</p>

							<h2>Another subsection</h2>

							<p>Text text</p>

						</section>
						<section id="sentiment">
							
							<h1>Sentiment analysis</h1>

							<p>Blablablabla</p>

							<h2>Subsection title</h2>

							<p>Blablabla</p>

							<h2>Another subsection</h2>

							<p>Text text</p>

						</section>
					</div><!--/main-->
					
				</div><!--/content-->
				<footer id="colophon">
					<p>Project by Athina Tsagkari, Terkel Bo Olsen &amp; Jan Szwagierczak. Last update: 26 Nov 2017</p>
				</footer>
		</div><!--/wrapper-->
	</body>
</html>
